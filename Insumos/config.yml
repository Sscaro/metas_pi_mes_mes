listado_insumos:
  cargar_ventas:
    - drivers_transformados.xlsx
    - PortafolioInfaltable.xlsx
    - Clientes_activos_Dir_Ind.xlsx
    - driver_portafolio.xlsx


  generar_promos:
    - promos.xlsx
    - PortafolioInfaltable.xlsx

  generar_base_socios:
    - MaestrasSocios.xlsm
    - ventas

  generar_pi_municipio:
    - PortafolioInfaltable.xlsx

    
nombre_col_ventas :
  tipo_venta : str
  clave_oficina_ventas: str
  oficina_ventas: str
  clave_Agente: str
  Agente: str
  clave_tipologia: str
  tipologia: str
  clave_segmento_vital: str
  segmento_vital: str
  clave_cliente: str
  cliente: str
  codigo_ecom: str
  cod_municipio: str
  clave_grupo_cte_5: str
  grupo_cte_5: str
  estrato: str
  clave_segmento_valor: str
  segmento_valor: str
  clave_jefe_vtas: str
  clave_vendedor: str
  nombre_vendendor: str
  clave_sector: str
  sector: str
  clave_categoria: str
  categoria: str
  clave_sub_categoria: str
  sub_categoria: str
  clave_linea: str
  linea: str
  clave_marca: str
  marca: str
  clave_material: str
  material: str
  anio_mes: str
  ventas_cop: float
  ventas_un : float
  ventas_kg : float

hojasPI:
  - Infaltable TD #0
  - Infaltable AU #1
  - Infaltable CE #2
  - Infaltable B #3

nombre_col_archivo_pi:
  col_td_Au:
    Oficina de ventas: oficina_ventas
    Tipología / Segmento 3: tipologia
    Segmento de Valor CRM: Segmento_valor
    Estrato: estrato
    Material Meta: clave_material
    Excluir de Meta: Excluir_meta

  col_bn_ce:
    Oficina de ventas: oficina_ventas # 0
    Tipología / Segmento 3: tipologia # 1
    Material Meta: clave_material # 2
    Excluir de Meta: Excluir_meta # 3

hojaDriver:
  - oficina_ventas #0
  - tipologia # 1
  - Segmento_valor # 2

columnas_driver:
  - 'clave_material' # aplica para au td bn y ce
  - 'oficina_ventas' # aplica para au td bn y ce
  - 'clave_tipologia' # aplica para au td bn y ce
  - 'pi' # aplica para au td bn y ce
  - 'estrato'  # aplica para au y td 
  - 'clave_grupo_cte_5' # aplica para au y td 

uniones: 
  unionesau_td:
    - 'clave_material' # aplica para au td bn y ce
    - 'oficina_ventas' # aplica para au td bn y ce
    - 'clave_tipologia' # aplica para au td bn y ce
    - 'estrato'  # aplica para au y td 
    - 'clave_grupo_cte_5' # aplica para au y td 
  unionesce_bn:
    - 'clave_material' # aplica para au td bn y ce
    - 'oficina_ventas' # aplica para au td bn y ce
    - 'clave_tipologia' # aplica para au td bn y ce


reemplazos: # parametrización para realizar reemplazos en los archivos de ventas
  - columnas_condicion: 'estrato'
    valores:
      - 'Sin asignar'
      - 'Sin Asignar'
      - 'Sin Estrato'
      - 'Estrato 1'
      - 'Estrato 2'
      - 'Estrato 3'
    valor_nuevo : 'Estrato Bajo'
  - columnas_condicion: 'estrato'
    valores:
      - 'Estrato 4'
      - 'Estrato 5'
      - 'Estrato 6'
    valor_nuevo : 'Estrato Alto'
  - columnas_condicion: 'clave_grupo_cte_5'
    valores:
      - '#' 
      - '01'
      - '03'
      - '04'
      - '05'
      - '06'
    valor_nuevo : 'AA'
   
columnas_usar_universos:
  directa:
    - 'Cód. Cliente'
    - 'Bloq. Pedido'

  indirecta:
    - 'r_id_agente_comercial' # 0 codigo agente
    - 'Cod_CRM'  #1  codigo crm del cliente
    - 'r_id_vendedor'  #2 codigo vendedor ecom
    - 'Fuerzas en el rutero'  #4 nombre de la fuerza actual

  imputacion_fuerza:
    '208 - MULTIMARCA MIXTO'
  
codigos_bloqueo:
  - '11' # cliente en pre-juri
  - '08' # Otras Listas Control
  - '12' # Cliente en proceso j


columnas_rezonificacaciones:
  - 'clave_representante_ventas'
  - 'codigo_vendedor'

listado_meses:
  - ENERO
  - FEBRERO
  - MARZO
  - ABRIL
  - MAYO
  - JUNIO
  - JULIO
  - AGOSTO
  - SEPTIEMBRE
  - OCTUBRE
  - NOVIEMBRE
  - DICIEMBRE

query:
  - SELECT tipo_venta, oficina_ventas,clave_Agente, Agente, Canal_trans, Sub_canal_trans,tipologia,
      segmento_vital,clave_grupo_cte_5,COD_CLIENTE, clave_representante_ventas,clave_jefe_ventas, codigo_vendedor,estrato,
      count(material) as Total_materiales_comprados,
      count (case when PI  = 'si' THEN clave_material END) AS total_materiales_PI_comprados,
      sum(ventas) as Ventas_totales,
      sum(case when PI ='si' then ventas END) as ventas_totales_pi
      FROM ventas  
      where clave_Agente= '10407248' and  Mes_ventas = 'junio' and Estado = 'Activo' AND Canal_trans in ('Autoservicios','Tradicional','Bienestar','Comercio Especializa') and ventas > 0
      GROUP BY tipo_venta, oficina_ventas,clave_Agente, Agente, Canal_trans, Sub_canal_trans,tipologia,segmento_vital,clave_grupo_cte_5,
      COD_CLIENTE, clave_representante_ventas,clave_jefe_ventas,codigo_vendedor,estrato